<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MovieMind ‚Äì Smart Movie Recommendations</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="css/styles.css">
<script src="js/script.js"></script>
</head>
<body>
  
  <!-- NAVBAR -->
  <nav>
    <h1 onclick="fetchRecommendations()">üé¨ MovieMind</h1>
    
    <div class="nav-right">
      <ul>
        <li data-genre="All" onclick="filterByGenre('All')">Home</li>
        <li data-genre="Action" onclick="filterByGenre('Action')">Action</li>
        <li data-genre="Drama" onclick="filterByGenre('Drama')">Drama</li>
        <li data-genre="Sci-Fi" onclick="filterByGenre('Sci-Fi')">Sci-Fi</li>
        <li data-genre="Thriller" onclick="filterByGenre('Thriller')">Thriller</li>
      </ul>
      
      <input type="text" class="search-box" id="searchBox" placeholder="Search movies..." />
      
      <!-- Auth Buttons (shown when not logged in) -->
      <div class="auth-buttons" id="authButtons">
        <button class="auth-btn login-btn" onclick="showLoginModal()">Login</button>
        <button class="auth-btn register-btn" onclick="showRegisterModal()">Register</button>
      </div>
      
      <!-- User Menu (shown when logged in) -->
      <div class="user-menu" id="userMenu">
        <div class="user-avatar" id="userAvatar" onclick="showUserPanel()">U</div>
        <span class="user-name" id="userName" onclick="showUserPanel()">User</span>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
    </div>
  </nav>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('loginModal')">&times;</span>
      <h2>Login to MovieMind</h2>
      <form id="loginForm">
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="loginEmail" placeholder="Enter your email" required>
          <div class="error-message" id="loginEmailError"></div>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="loginPassword" placeholder="Enter your password" required>
          <div class="error-message" id="loginPasswordError"></div>
        </div>
        <button type="submit" class="form-btn">Login</button>
        <div class="success-message" id="loginSuccess"></div>
      </form>
      <div class="switch-form">
        Don't have an account? <span onclick="switchToRegister()">Register here</span>
      </div>
    </div>
  </div>
<!-- REGISTER MODAL -->
  <div id="registerModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('registerModal')">&times;</span>
      <h2>Join MovieMind</h2>
      <form id="registerForm">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" id="registerName" placeholder="Enter your full name" required>
          <div class="error-message" id="registerNameError"></div>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="registerEmail" placeholder="Enter your email" required>
          <div class="error-message" id="registerEmailError"></div>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="registerPassword" placeholder="Create a password (min 6 characters)" required>
          <div class="error-message" id="registerPasswordError"></div>
        </div>
        <div class="form-group">
          <label>Confirm Password</label>
            <input type="password" id="registerConfirmPassword" placeholder="Confirm your password" required>
          <div class="error-message" id="registerConfirmError"></div>
        </div>
        <button type="submit" class="form-btn">Create Account</button>
        <div class="success-message" id="registerSuccess"></div>
      </form>
      <div class="switch-form">
        Already have an account? <span onclick="switchToLogin()">Login here</span>
      </div>
    </div>
  </div>



  <!-- USER PANEL MODAL -->
  <div id="userPanelModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal('userPanelModal')">&times;</span>
      
      <div id="userPanel" class="user-panel">
        <div class="user-header">
          <div class="user-avatar-large" id="userAvatarLarge">U</div>
          <div class="user-info">
            <h3 id="panelUserName">User Name</h3>
            <p id="panelUserEmail">user@example.com</p>
            <p style="font-size: 12px; margin-top: 5px;">Member since: <span id="memberSince">2024</span></p>
          </div>
        </div>
        
        <div class="user-stats">
          <div class="stat-card" onclick="switchPanelTab('watchlist')">
            <div class="stat-number" id="watchlistCount">0</div>
            <div class="stat-label">Watchlist</div>
          </div>
          <div class="stat-card" onclick="switchPanelTab('watch-history')">
            <div class="stat-number" id="moviesWatched">0</div>
            <div class="stat-label">Watched</div>
          </div>
          <div class="stat-card" onclick="switchPanelTab('favorites')">
            <div class="stat-number" id="favoritesCount">0</div>
            <div class="stat-label">Favorites</div>
          </div>
          <div class="stat-card" onclick="switchPanelTab('ratings')">
            <div class="stat-number" id="moviesRated">0</div>
            <div class="stat-label">Rated</div>
          </div>
        </div>

        <!-- Watchlist Progress -->
        <div class="watchlist-progress">
          <div class="progress-info">
            <span>Watchlist Progress</span>
            <span id="watchlistProgressText">0/0</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="watchlistProgressBar" style="width: 0%"></div>
          </div>
        </div>
        
        <div class="panel-tabs">
          <button class="panel-tab active" onclick="switchPanelTab('watchlist')">üìù Watchlist</button>
          <button class="panel-tab" onclick="switchPanelTab('watch-history')">üì∫ Watched</button>
          <button class="panel-tab" onclick="switchPanelTab('favorites')">‚ù§Ô∏è Favorites</button>
          <button class="panel-tab" onclick="switchPanelTab('ratings')">‚≠ê Ratings</button>
          <button class="panel-tab" onclick="switchPanelTab('preferences')">üéØ Preferences</button>
        </div>
        
        <!-- Watchlist Tab -->
        <div id="watchlist-panel" class="panel-content active">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h4 style="color: #00e5ff;">Your Movie Watchlist</h4>
            <button onclick="clearWatchlist()" style="padding: 5px 15px; background: rgba(255,107,107,0.2); color: #ff6b6b; border: 1px solid #ff6b6b; border-radius: 15px; cursor: pointer; font-size: 12px;">
              Clear All
            </button>
          </div>
          <div id="watchlistList" class="movie-list">
            <!-- Will be populated dynamically -->
          </div>
          <div id="emptyWatchlist" class="empty-state" style="display: none;">
            <i class="fas fa-bookmark"></i>
            <h4>Your Watchlist is Empty</h4>
            <p>Add movies you want to watch later</p>
            <p style="font-size: 12px; margin-top: 10px;">Click the bookmark icon on movies to add them here</p>
          </div>
        </div>
        
        <!-- Watch History Tab -->
        <div id="watch-history-panel" class="panel-content">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h4 style="color: #00e5ff;">Recently Watched Movies</h4>
            <button onclick="clearWatchHistory()" style="padding: 5px 15px; background: rgba(255,107,107,0.2); color: #ff6b6b; border: 1px solid #ff6b6b; border-radius: 15px; cursor: pointer; font-size: 12px;">
              Clear History
            </button>
          </div>
          <div id="watchHistoryList" class="movie-list">
            <!-- Will be populated dynamically -->
          </div>
          <div id="emptyWatchHistory" class="empty-state" style="display: none;">
            <i class="fas fa-film"></i>
            <h4>No Movies Watched Yet</h4>
            <p>Start watching movies to see them here</p>
          </div>
        </div>
        
        <!-- Favorites Tab -->
        <div id="favorites-panel" class="panel-content">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h4 style="color: #00e5ff;">Your Favorite Movies</h4>
            <button onclick="clearFavorites()" style="padding: 5px 15px; background: rgba(255,107,107,0.2); color: #ff6b6b; border: 1px solid #ff6b6b; border-radius: 15px; cursor: pointer; font-size: 12px;">
              Clear All
            </button>
          </div>
          <div id="favoritesList" class="movie-list">
            <!-- Will be populated dynamically -->
          </div>
          <div id="emptyFavorites" class="empty-state" style="display: none;">
            <i class="fas fa-heart"></i>
            <h4>No Favorites Yet</h4>
            <p>Click the heart icon on movies to add them here</p>
          </div>
        </div>
        
        <!-- Ratings Tab -->
        <div id="ratings-panel" class="panel-content">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h4 style="color: #00e5ff;">Your Movie Ratings</h4>
            <button onclick="clearRatings()" style="padding: 5px 15px; background: rgba(255,107,107,0.2); color: #ff6b6b; border: 1px solid #ff6b6b; border-radius: 15px; cursor: pointer; font-size: 12px;">
              Clear All
            </button>
          </div>
          <div id="ratingsList" class="movie-list">
            <!-- Will be populated dynamically -->
          </div>
          <div id="emptyRatings" class="empty-state" style="display: none;">
            <i class="fas fa-star"></i>
            <h4>No Ratings Yet</h4>
            <p>Rate movies to see them here</p>
          </div>
        </div>
        
        <!-- Preferences Tab -->
        <div id="preferences-panel" class="panel-content">
          <h4 style="color: #00e5ff; margin-bottom: 20px;">Your Preferences</h4>
          
          <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
            <h5 style="color: #00e5ff; margin-bottom: 10px;">Favorite Genres</h5>
            <div class="genre-tags" id="preferredGenres">
              <!-- Will be populated dynamically -->
            </div>
            <p style="font-size: 12px; color: #b0b7c3; margin-top: 10px;">Based on your ratings and watch history</p>
          </div>
          
          <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
            <h5 style="color: #00e5ff; margin-bottom: 10px;">Recommendation Settings</h5>
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                <input type="checkbox" id="notifyWatchlist" checked>
                <span>Notify about watchlist movies</span>
              </label>
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                <input type="checkbox" id="autoAddSimilar" checked>
                <span>Auto-add similar movies to watchlist</span>
              </label>
            </div>
          </div>
          
          <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px;">
            <h5 style="color: #00e5ff; margin-bottom: 10px;">Quiz Profile</h5>
            <div id="quizProfileInfo" style="color: #b0b7c3; margin-bottom: 15px;">
              Take the quiz to get your movie profile!
            </div>
            <button onclick="startQuiz()" style="padding: 10px 20px; background: #00e5ff; color: #000; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
              Take Movie Quiz
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- QUIZ MODAL -->
  <div id="quizModal" class="modal">
    <div class="modal-content" style="max-width: 600px;">
      <span class="close-modal" onclick="closeModal('quizModal')">&times;</span>
      
      <div id="quizContainer">
        <!-- Quiz content will be loaded here -->
      </div>
      
      <div id="quizResults" style="display: none; text-align: center;">
        <div style="margin: 30px 0;">
          <i class="fas fa-film" style="font-size: 60px; color: #00e5ff; margin-bottom: 20px;"></i>
          <h2 style="color: #00e5ff; margin-bottom: 10px;">Your Movie Profile</h2>
          <p id="quizProfileText" style="opacity: 0.8; margin-bottom: 30px;"></p>
        </div>
        
        <div style="background: rgba(0, 229, 255, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 30px;">
          <h3 style="color: #00e5ff; margin-bottom: 15px;">üé¨ Based on your answers:</h3>
          <div id="quizTags" style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;"></div>
        </div>
        
        <button onclick="getQuizRecommendations()" class="form-btn" style="background: linear-gradient(90deg, #00e5ff, #00b8d4);">
          Get Your Movie Recommendations
        </button>
        
        <button onclick="restartQuiz()" style="margin-top: 15px; padding: 12px 24px; background: transparent; border: 1px solid #00e5ff; color: #00e5ff; border-radius: 10px; cursor: pointer; width: 100%;">
          Take Quiz Again
        </button>
      </div>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-content">
      <h2>Find Movies That Match Your Mood</h2>
      <p>AI-powered recommendations made just for you</p>
      <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">
        <button onclick="getPersonalizedRecommendations()">Get Recommendations</button>
        <button onclick="startQuiz()" class="secondary">Take Movie Quiz</button>
        <button onclick="showUserPanel()" class="secondary" style="background: linear-gradient(90deg, #ff6b6b, #ff8e8e); border: none; color: white;">
          <i class="fas fa-bookmark"></i> My Watchlist
        </button>
      </div>
    </div>
  </section>

  <h2 class="section-title" id="sectionTitle">üî• Trending Movies</h2>

  <!-- MOVIES -->
  <section class="movies" id="movieContainer">
    <!-- Movies will be loaded here dynamically -->
  </section>

<footer>
  ¬© 2025 MovieMind | Designed by Shreeshal
</footer>

</body>
</html>